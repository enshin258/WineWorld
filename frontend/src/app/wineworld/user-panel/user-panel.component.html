<div [ngClass]="isUserLoggedIn ? 'container' : 'container disabled'">
    <h2>---USER PANEL---</h2>

    <script>
        $(document).ready(function() {
            $('.js-edit, .js-save').on('click', function() {
                var $form = $(this).closest('form');
                $form.toggleClass('is-readonly is-editing');
                var isReadonly = $form.hasClass('is-readonly');
                $form.find('input,textarea').prop('disabled', isReadonly);
            });
        });
    </script>

    <ul class="nav nav-tabs mr-auto" id="myTab">
        <li class="nav-item"><a class="nav-link" data-target="#account_informations" data-toggle="tab">Account informations</a></li>
        <li class="nav-item"><a class="nav-link" data-target="#orders_history" data-toggle="tab">Orders history</a></li>
    </ul>

    <div class="tab-content">
        <!-- ACCOUNT INFORMATION -->
        <div class="tab-pane active" id="account_informations">
            <form class="card is-readonly" [formGroup]="account_information_form">
                <div class="card-header bg-dark text-light">
                    <i class="fa fa-shopping-cart" aria-hidden="true"></i> Account information
                </div>
                <div class="card-body">
                    <div class="column">
                        <div class="form-group">
                            <label class="col-md-12 control-label" for="e-mail"> E-MAIL </label>
                            <div class="col-md-12">
                                <input [ngClass]="!isEditable ? 'form-control' : 'form-control field'" formControlName="e_mail" name="e_mail" placeholder="@USER_EMAIL" class="form-control input-md" required="" type="text" disabled>
                                <input [ngClass]="!isEditable ? 'form-control field' : 'form-control'" (change)="onChange($event)" formControlName="e_mail" name="e_mail" placeholder="@USER_EMAIL" class="form-control input-md" required="" type="text">

                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-12 control-label" for="username"> NAME </label>
                            <div class="col-md-12">
                                <input [ngClass]="!isEditable ? 'form-control' : 'form-control field'" formControlName="username" name="username" placeholder="@USER_NAME" class="form-control input-md" required="" type="text" disabled>
                                <input [ngClass]="!isEditable ? 'form-control field' : 'form-control'" (change)="onChange($event)" formControlName="username" name="username" placeholder="@USER_NAME" class="form-control input-md" required="" type="text">

                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-12 control-label" for="password"> PASSWORD </label>
                            <div class="col-md-12">
                                <input [ngClass]="!isEditable ? 'form-control' : 'form-control field'" formControlName="password" name="password" placeholder="@USER_PASSWORD" class="form-control input-md" required="" type="text" disabled>
                                <input [ngClass]="!isEditable ? 'form-control field' : 'form-control'" (change)="onChange($event)" formControlName="password" name="password" placeholder="@USER_PASSWORD" class="form-control input-md" required="" type="text">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="checkout float-left column">
                        <div class="form-group">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-danger btn-edit js-edit" (click)="onEdit()">{{buttonText}}</button>
                            </div>
                        </div>
                    </div>
                    <div class="checkout float-left column">
                        <div class="form-group">
                            <div class="col-md-12">
                                <button type="submit" [ngClass]="!isEditable ? 'btn btn-danger btn-edit js-edit field' : 'btn btn-danger btn-edit js-edit'" (click)="onReject()">Reject changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!-- ORDERS HISTORY -->
        <div class="tab-pane" id="orders_history">
            <div class="card"></div>
            <div class="card-header bg-dark text-light">
                <i class="fa fa-shopping-cart" aria-hidden="true"></i> Orders history
            </div>
            <div class="card-body">
                <!-- First order -->
                <table class="table table-bordered">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">Order ID</th>
                            <th scope="col">Date</th>
                            <th scope="col">Name</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Price</th>
                            <th scope="col">Total sum</th>
                            <th scope="col">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- first order with 3 positions -->
                        <tr class="table-success">
                            <td rowspan=3>1</td>
                            <td rowspan=3>01.01.2020r</td>
                            <td>Nice wine</td>
                            <td>2</td>
                            <td>199.99PLN</td>
                            <td rowspan=3>1299.99PLN</td>
                            <td rowspan=3>Delivered</td>
                        </tr>

                        <tr class="table-success">
                            <td>Champagne</td>
                            <td>1</td>
                            <td>99PLN</td>
                        </tr>

                        <tr class="table-success">
                            <td>Carlo rossi</td>
                            <td>3</td>
                            <td>19.99</td>
                        </tr>

                        <tr class="table-danger">
                            <td rowspan=1>3</td>
                            <td rowspan=1>12.3.2021r</td>
                            <td>Chateu de Wino</td>
                            <td>1</td>
                            <td>301.11PLN</td>
                            <td rowspan=1>1299.99PLN</td>
                            <td rowspan=1>Canceled</td>
                        </tr>

                        <tr class="table-warning">
                            <td rowspan=2>1</td>
                            <td rowspan=2>01.01.2020r</td>
                            <td>Nice wine</td>
                            <td>2</td>
                            <td>199.99PLN</td>
                            <td rowspan=2>1299.99PLN</td>
                            <td rowspan=2>In progress</td>
                        </tr>

                        <tr class="table-warning">
                            <td>3</td>
                            <td>Chateu de Wino</td>
                            <td>12.22PLN</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>